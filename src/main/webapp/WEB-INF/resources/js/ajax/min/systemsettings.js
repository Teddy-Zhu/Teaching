$(function(){$("#planSubmitToggle").bootstrapSwitch("size","small"),$("#planSubmitToggle").bootstrapSwitch("onSwitchChange",function(e,data){$("#planSubmitToggle").val(data?"on":"off")}),$("#planSubmitToggle").val(1==$(this).attr("data-open")?"on":"off"),$("#planSubmitToggle").bootstrapSwitch("state",1==parseInt($("#planSubmitToggle").attr("data-open"))?!0:!1),$("#savechange").click(function(){var Params,flag,error;return $(".alert.alert-danger").slideUp(),$(".alert.alert-danger").remove(),Params=new Object,flag=!0,error='<div class="alert alert-danger" role="alert" style="display:none;line-height: 0px;width: 80%;height: 1px;">{errormsg}</div>',$(".settingForm").each(function(){var param=$(this).val();return void 0==param||""==param.trim()?($(this).parent().parent().next().html(error.replace(/{errormsg}/g,"The Parameter Error!")),flag=!1):void(Params[$(this).attr("id")]=param)}),flag?void $.ajax({url:"Config/SaveGlobalChanges",dataType:"json",type:"post",data:Params,async:!0}).success(function(data){$.TeachDialog(data?{content:"Update Settings Success!"}:{content:"Update Settings failed!"})}):void $(".alert.alert-danger").slideDown()})});