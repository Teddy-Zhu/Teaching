$(function(){$("#BookGridSize,#UserGridSize,#SupplierGridSize,#PlanGridSize").TouchSpin({min:1,max:50,step:1}),$("#AnimationToggle").bootstrapSwitch("size","small"),$("#AnimationToggle").bootstrapSwitch("onSwitchChange",function(t,e){$("#AnimationToggle").val(e?"on":"off")}),$("#AnimationToggle").val(1==$(this).attr("data-open")?"on":"off"),$("#AnimationToggle").bootstrapSwitch("state",1==parseInt($("#AnimationToggle").attr("data-open"))?!0:!1),$("#reset").click(function(){LoadAjaxContent("ajax/personal_setting")}),$("#savechange").click(function(){var t,e,a;return $(".alert.alert-danger").slideUp(),$(".alert.alert-danger").remove(),t=new Object,e=!0,a='<div class="alert alert-danger" role="alert" style="display:none;line-height: 0px;width: 80%;height: 1px;">{errormsg}</div>',$(".settingForm").each(function(){var n=$(this).val();return void 0==n||""==n.trim()?($(this).parent().parent().next().html(a.replace(/{errormsg}/g,"变量错误!")),e=!1):void(t[$(this).attr("id")]=n)}),e?void $.ajax({url:"Config/SavePerChanges",dataType:"json",type:"post",data:t,async:!0}).success(function(t){t?($("#animation").attr("data-open","on"==$("#AnimationToggle").val()?1:0),$.TeachDialog({content:"更新成功!"})):$.TeachDialog({content:"更新失败!"})}):void $(".alert.alert-danger").slideDown()})});