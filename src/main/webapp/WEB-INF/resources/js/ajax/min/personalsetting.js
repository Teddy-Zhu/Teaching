$(function(){$("#BookGridSize,#UserGridSize,#SupplierGridSize,#PlanGridSize").TouchSpin({min:1,max:50,step:1}),$("#AnimationToggle").bootstrapSwitch("size","small"),$("#AnimationToggle").bootstrapSwitch("onSwitchChange",function(e,data){$("#AnimationToggle").val(data?"on":"off")}),$("#AnimationToggle").val(1==$(this).attr("data-open")?"on":"off"),$("#AnimationToggle").bootstrapSwitch("state",1==parseInt($("#AnimationToggle").attr("data-open"))?!0:!1),$("#reset").click(function(){LoadAjaxContent("ajax/personal_setting")}),$("#savechange").click(function(){var Params,flag,error;return $(".alert.alert-danger").slideUp(),$(".alert.alert-danger").remove(),Params=new Object,flag=!0,error='<div class="alert alert-danger" role="alert" style="display:none;line-height: 0px;width: 80%;height: 1px;">{errormsg}</div>',$(".settingForm").each(function(){var param=$(this).val();return void 0==param||""==param.trim()?($(this).parent().parent().next().html(error.replace(/{errormsg}/g,"The Parameter Error!")),flag=!1):void(Params[$(this).attr("id")]=param)}),flag?void $.ajax({url:"Config/SavePerChanges",dataType:"json",type:"post",data:Params,async:!0}).success(function(data){data?($("#animation").attr("data-open","on"==$("#AnimationToggle").val()?1:0),$.TeachDialog({content:"Update Settings Success!"})):$.TeachDialog({content:"Update Settings failed!"})}):void $(".alert.alert-danger").slideDown()})});