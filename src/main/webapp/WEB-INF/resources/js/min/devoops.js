"use strict";function LoadJS(url){var dtd=$.Deferred();return $.getScript(url,function(){dtd.resolve()}),dtd.promise()}function LoadJsFile(urls){var ret,i,len;if(!$.isArray(urls))return LoadJS(urls);for(ret=[],i=0,len=urls.length;len>i;i++)ret[i]=LoadJS(urls[i]);return $.when.apply($,ret)}function LoadLeafletScript(callback){$.fn.L?callback&&"function"==typeof callback&&callback():$.getScript("resources/plugins/leaflet/leaflet.js",callback)}function unix2human(unixtime){var dateObj=new Date(unixtime),UnixTimeToDate=dateObj.getFullYear()+"-"+(dateObj.getMonth()+1)+"-"+dateObj.getDate()+" "+p(dateObj.getHours())+":"+p(dateObj.getMinutes())+":"+p(dateObj.getSeconds());return UnixTimeToDate}function p(s){return 10>s?"0"+s:s}function LoadBootstrapValidatorScript(callback){$.fn.bootstrapValidator?callback&&"function"==typeof callback&&callback():$.getScript("resources/plugins/bootstrapvalidator/bootstrapValidator.min.js",callback)}function LoadDataTablesScripts(callback){function LoadDatatables(){$.getScript("resources/plugins/datatables/jquery.dataTables.min.js",function(){$.getScript("resources/plugins/datatables/ZeroClipboard.min.js",function(){$.getScript("resources/plugins/datatables/dataTables.tableTools.min.js",function(){$.getScript("resources/plugins/datatables/dataTables.bootstrap.min.js",callback)})})})}$.fn.dataTables?callback&&"function"==typeof callback&&callback():LoadDatatables()}function LoadSpringyScripts(callback){function LoadSpringyScript(){$.getScript("resources/plugins/springy/springy.js",LoadSpringyUIScript)}function LoadSpringyUIScript(){$.getScript("resources/plugins/springy/springyui.js",callback)}$.fn.Springy?callback&&"function"==typeof callback&&callback():LoadSpringyScript()}function logout(){$.TeachDialog({title:"Warnning!",content:"Are you sure submit to Log Out?",showCloseButton:!0,bootstrapModalOption:{},otherButtons:["Yes"],clickButton:function(sender,modal,index){0==index&&$.ajax({url:"User/AuthLogout",type:"post",async:!1,success:function(){window.top.location.href="/"}})}})}function sessionout(){$.TeachDialog({content:"Your Login Session is out of date,please login  again!",dialogHidden:function(){window.top.location.href="/?ref="+window.top.location.pathname+window.top.location.hash},bootstrapModalOption:{}})}function MessagesMenuWidth(){var W=window.innerWidth,W_menu=$("#sidebar-left").outerWidth(),w_messages=16.666666666666664*(W-W_menu)/100;$("#messages-menu").width(w_messages)}function LoadFancyboxScript(callback){$.fn.fancybox?callback&&"function"==typeof callback&&callback():$.getScript("resources/plugins/fancybox/jquery.fancybox.js",callback)}function LoadAjaxContent(url){$(".preloader").show(),$.ajax({mimeType:"text/html; charset=utf-8",url:url,type:"GET",success:function(data){$(".preloader").hide(),$("#ajax-content").html(data),1==parseInt($("#animation").attr("data-open"))&&($("#ajax-content").addClass("am-animation-slide-right"),setTimeout("removeAnmaClass()",1e3))},error:function(jqXHR,textStatus,errorThrown){},complete:function(xhr,textStatus){return 3389==xhr.status?void sessionout():void 0},dataType:"html",async:!1})}function LoadModel(modelName){var dtd=$.Deferred();return(void 0==modelName||""==modelName.trim())&&dtd.reject(),void 0!=$(".box-content.table-responsive").data("modelName")?dtd.resolve($(".box-content.table-responsive").data("modelName")):$.ajax({mimeType:"text/html; charset=utf-8",url:"Model/"+modelName,type:"POST",dataType:"html",async:!1}).success(function(data){$(".box-content.table-responsive").data("modelName",data),dtd.resolve(data)}).fail(function(){dtd.reject()}),dtd}function SetMinBlockHeight(elem){elem.css("min-height",window.innerHeight-49)}function DashboardTabChecker(){$("#content").on("click","a.tab-link",function(e){e.preventDefault();var attr=$(this).attr("id");$("div#dashboard_tabs").find("div[id^=dashboard]").each(function(){$(this).attr("id")!="dashboard-"+attr&&$(this).slideUp()}),$("#dashboard-"+attr).slideDown(),$(this).closest(".nav").find("li").removeClass("active"),$(this).closest("li").addClass("active")})}function OpenModalBox(header,inner,bottom){var modalbox=$("#modalbox");modalbox.find(".modal-header-name span").html(header),modalbox.find(".devoops-modal-inner").html(inner),modalbox.find(".devoops-modal-bottom").html(bottom),modalbox.fadeIn("fast"),$("body").addClass("body-expanded")}function CloseModalBox(){var modalbox=$("#modalbox");modalbox.fadeOut("fast",function(){modalbox.find(".modal-header-name span").children().remove(),modalbox.find(".devoops-modal-inner").children().remove(),modalbox.find(".devoops-modal-bottom").children().remove(),$("body").removeClass("body-expanded")})}function CreateAllSliders(){var slider_range_min_amount,slider_range_min,slider_range_max,slider_range_max_amount,slider_range,slider_range_amount;$(".slider-default").slider(),slider_range_min_amount=$(".slider-range-min-amount"),slider_range_min=$(".slider-range-min"),slider_range_max=$(".slider-range-max"),slider_range_max_amount=$(".slider-range-max-amount"),slider_range=$(".slider-range"),slider_range_amount=$(".slider-range-amount"),slider_range_min.slider({range:"min",value:37,min:1,max:700,slide:function(event,ui){slider_range_min_amount.val("$"+ui.value)}}),slider_range_min_amount.val("$"+slider_range_min.slider("value")),slider_range_max.slider({range:"max",min:1,max:100,value:2,slide:function(event,ui){slider_range_max_amount.val(ui.value)}}),slider_range_max_amount.val(slider_range_max.slider("value")),slider_range.slider({range:!0,min:0,max:500,values:[75,300],slide:function(event,ui){slider_range_amount.val("$"+ui.values[0]+" - $"+ui.values[1])}}),slider_range_amount.val("$"+slider_range.slider("values",0)+" - $"+slider_range.slider("values",1)),$("#equalizer > div.progress > div").each(function(){var value=parseInt($(this).text(),10);$(this).empty().slider({value:value,range:"min",animate:!0,orientation:"vertical"})})}function ScreenSaver(){function Particle(){var r,g,b,a;this.location={x:Math.random()*W,y:Math.random()*H},this.radius=0,this.speed=3,this.angle=360*Math.random(),r=Math.round(255*Math.random()),g=Math.round(255*Math.random()),b=Math.round(255*Math.random()),a=Math.random(),this.rgba="rgba("+r+", "+g+", "+b+", "+a+")"}function draw(){var i,p,n,p2,yd,xd,distance;for(ctx.globalCompositeOperation="source-over",ctx.fillStyle="rgba(0, 0, 0, 0.02)",ctx.fillRect(0,0,W,H),ctx.globalCompositeOperation="lighter",i=0;i<particles.length;i++){for(p=particles[i],ctx.fillStyle="white",ctx.fillRect(p.location.x,p.location.y,p.radius,p.radius),n=0;n<particles.length;n++)p2=particles[n],yd=p2.location.y-p.location.y,xd=p2.location.x-p.location.x,distance=Math.sqrt(xd*xd+yd*yd),200>distance&&(ctx.beginPath(),ctx.lineWidth=1,ctx.moveTo(p.location.x,p.location.y),ctx.lineTo(p2.location.x,p2.location.y),ctx.strokeStyle=p.rgba,ctx.stroke());p.location.x=p.location.x+p.speed*Math.cos(p.angle*Math.PI/180),p.location.y=p.location.y+p.speed*Math.sin(p.angle*Math.PI/180),p.location.x<0&&(p.location.x=W),p.location.x>W&&(p.location.x=0),p.location.y<0&&(p.location.y=H),p.location.y>H&&(p.location.y=0)}}var particles,i,canvas=document.getElementById("canvas"),ctx=canvas.getContext("2d"),W=window.innerWidth,H=window.innerHeight;for(canvas.width=W,canvas.height=H,particles=[],i=0;25>i;i++)particles.push(new Particle);setInterval(draw,30)}function removeAnmaClass(){$("#ajax-content").hasClass("am-animation-slide-right")&&$("#ajax-content").removeClass("am-animation-slide-right")}jQuery.DownloadFile=function(parameters){var inputs,url=parameters.url,data=parameters.data,method=parameters.method;url&&data&&(data="string"==typeof data?data:jQuery.param(data),inputs="",jQuery.each(data.split("&"),function(){var pair=this.split("=");inputs+='<input type="hidden" name="'+pair[0]+'" value="'+pair[1]+'" />'}),jQuery('<form style="display:none;" action="'+url+'" method="'+(method||"post")+'">'+inputs+"</form>").appendTo("body").submit().remove())},String.prototype.trimEnd=function(trimStr){if(!trimStr)return this;for(var temp=this;;){if(temp.substr(temp.length-trimStr.length,trimStr.length)!=trimStr)break;temp=temp.substr(0,temp.length-trimStr.length)}return temp},function($){$.fn.beautyTables=function(){var table=this,string_fill=!1;this.on("keydown",function(event){var target=event.target,tr=$(target).closest("tr"),col=$(target).closest("td");if("INPUT"==target.tagName.toUpperCase()){if(event.shiftKey===!0)switch(event.keyCode){case 37:col.prev().children("input[type=text]").focus();break;case 39:col.next().children("input[type=text]").focus();break;case 40:string_fill||tr.next().find("td:eq("+col.index()+") input[type=text]").focus();break;case 38:string_fill||tr.prev().find("td:eq("+col.index()+") input[type=text]").focus()}if(event.ctrlKey===!0)switch(event.keyCode){case 37:tr.find("td:eq(1)").find("input[type=text]").focus();break;case 39:tr.find("td:last-child").find("input[type=text]").focus();break;case 40:string_fill||table.find("tr:last-child td:eq("+col.index()+") input[type=text]").focus();break;case 38:string_fill||table.find("tr:eq(1) td:eq("+col.index()+") input[type=text]").focus()}(13==event.keyCode||9==event.keyCode)&&(event.preventDefault(),col.next().find("input[type=text]").focus()),string_fill||(34==event.keyCode&&(event.preventDefault(),table.find("tr:last-child td:last-child").find("input[type=text]").focus()),33==event.keyCode&&(event.preventDefault(),table.find("tr:eq(1) td:eq(1)").find("input[type=text]").focus()))}}),table.find("input[type=text]").each(function(){$(this).on("blur",function(event){var target=event.target,col=$(target).parents("td");table.find("input[name=string-fill]").prop("checked")&&col.nextAll().find("input[type=text]").each(function(){$(this).val($(target).val())})})})}}(jQuery),function($){$.fn.beautyHover=function(){var table=this;table.on("mouseover","td",function(){var idx=$(this).index(),rows=$(this).closest("table").find("tr");rows.each(function(){$(this).find("td:eq("+idx+")").addClass("beauty-hover")})}).on("mouseleave","td",function(e){var idx=$(this).index(),rows=$(this).closest("table").find("tr");rows.each(function(){$(this).find("td:eq("+idx+")").removeClass("beauty-hover")})})}}(jQuery),$(function(){var ajax_url,item,height,menus;1==parseInt($("#animation").attr("data-open"))&&setTimeout(function(){removeAnmaClass(),$("#sidebar-left").removeClass("am-animation-slide-left"),$("#headernavbar").removeClass("am-animation-slide-top")},1e3),$("body").on("click",".show-sidebar",function(e){e.preventDefault(),$("div#main").toggleClass("sidebar-show"),setTimeout(MessagesMenuWidth,250)}),ajax_url=location.hash.replace(/^#/,""),ajax_url.length<1&&(ajax_url="dashboard"),LoadAjaxContent("ajax/"+ajax_url),item=$('.main-menu li a[href$="'+ajax_url+'"]'),item.addClass("active-parent active"),$(".dropdown:has(li:has(a.active)) > a").addClass("active-parent active"),$(".dropdown:has(li:has(a.active)) > ul").css("display","block"),$(".main-menu").on("click","a",function(e){var current,pre,url,parents=$(this).parents("li"),li=$(this).closest("li.dropdown"),another_items=$(".main-menu li").not(parents);another_items.find("a").removeClass("active"),another_items.find("a").removeClass("active-parent"),$(this).hasClass("dropdown-toggle")||0==$(this).closest("li").find("ul").length?($(this).addClass("active-parent"),current=$(this).next(),current.is(":visible")?(li.find("ul.dropdown-menu").slideUp("fast"),li.find("ul.dropdown-menu a").removeClass("active")):(another_items.find("ul.dropdown-menu").slideUp("fast"),current.slideDown("fast"))):li.find("a.dropdown-toggle").hasClass("active-parent")&&(pre=$(this).closest("ul.dropdown-menu"),pre.find("li.dropdown").not($(this).closest("li")).find("ul.dropdown-menu").slideUp("fast")),$(this).hasClass("active")||($(this).parents("ul.dropdown-menu").find("a").removeClass("active"),$(this).addClass("active")),$(this).hasClass("ajax-link")&&(e.preventDefault(),$(this).hasClass("add-full")?$("#content").addClass("full-content"):$("#content").removeClass("full-content"),url=$(this).attr("href"),window.location.hash=url,LoadAjaxContent("ajax/"+url)),"#"==$(this).attr("href")&&e.preventDefault()}),height=$(window).height()-50,$("#main").css("min-height",height).on("click",".expand-link",function(e){var box,button,timeout,body=$("body");e.preventDefault(),box=$(this).closest("div.box"),button=$(this).find("i"),button.toggleClass("fa-expand").toggleClass("fa-compress"),box.toggleClass("expanded"),body.toggleClass("body-expanded"),timeout=0,body.hasClass("body-expanded")&&(timeout=100),setTimeout(function(){box.toggleClass("expanded-padding")},timeout),setTimeout(function(){box.resize(),box.find("[id^=map-]").resize()},timeout+50)}).on("click",".collapse-link",function(e){var box,button,content;e.preventDefault(),box=$(this).closest("div.box"),button=$(this).find("i"),content=box.find("div.box-content"),content.slideToggle("fast"),button.toggleClass("fa-chevron-up").toggleClass("fa-chevron-down"),setTimeout(function(){box.resize(),box.find("[id^=map-]").resize()},50)}).on("click",".close-link",function(e){e.preventDefault();var content=$(this).closest("div.box");content.remove()}),$("body").on("click","a.close-link",function(e){e.preventDefault(),CloseModalBox()}),$(".dropdown-menu .top-link").on("click",function(e){var ajax_url,item;e.preventDefault(),ajax_url=$(this).attr("href"),item=$('.main-menu li a[href$="'+ajax_url+'"]'),item.addClass("active-parent active"),$(".dropdown:has(li:has(a.active)) > a").addClass("active-parent active"),$(".dropdown:has(li:has(a.active)) > ul").css("display","block"),window.location.hash=ajax_url,item.trigger("click")}),$("#search").on("keydown",function(e){var ajax_url,item;13==e.keyCode&&(e.preventDefault(),ajax_url=$("#searchMenu").attr("data-value"),item=$('.main-menu li a[href$="'+ajax_url+'"]'),item.addClass("active-parent active"),$(".dropdown:has(li:has(a.active)) > a").addClass("active-parent active"),$(".dropdown:has(li:has(a.active)) > ul").css("display","block"),window.location.hash=ajax_url,item.trigger("click"))}),$("#search i").on("click",function(){var e=$.Event("keydown");e.keyCode=13,$(this).trigger(e)}),$(".main-menu .dropdown a[class!='ajax-link']").not("[class~='ajax-link']").not("[href~='javascript:logout();']").on("click",function(e){e.preventDefault()}),$("#content").css("height",$(window).height()-$("#headernavbar").height()+"px"),NProgress.configure({parent:"#headernavbar",ease:"ease",speed:800}),$(document).ajaxStart(function(){NProgress.start()}),$(document).ajaxStop(function(){NProgress.done()}),menus=[],$("[class~='ajax-link'][href!='#']").each(function(e){var menu={};menu.data=$(this).attr("href"),menu.value=$.trim($(this).html().replace(/<i(.*)<\/i>/,"")),menus.push(menu)}),$("#searchMenu").autocomplete({lookup:menus}),$.ajaxSetup({complete:function(xhr,textStatus){switch(xhr.status){case 3389:sessionout();break;case 500:$.TeachDialog({title:"Sorry!",content:"Service is Down!Please Contact us!",showCloseButton:!0});break;case 3388:$.TeachDialog({title:"Warnning!",content:"You don't have power to operate it!",showCloseButton:!0});break;case 3387:$.TeachDialog({title:"Warnning!",content:"Unknown Error!",showCloseButton:!0});break;case 3386:$.TeachDialog({title:"Warnning!",content:"Parameters Error!",showCloseButton:!0});break;case 3385:$.TeachDialog({title:"Warnning!",content:"Information validation error!",showCloseButton:!0});break;case 3384:$.TeachDialog({title:"Warnning!",content:"the type is in use!",showCloseButton:!0});break;case 3383:$.TeachDialog({title:"Warnning!",content:"Save Logs ERROR!",showCloseButton:!0});break;case 3382:$.TeachDialog({title:"Warnning!",content:"No Data!",showCloseButton:!0});break;case 405:$.TeachDialog({title:"Warnning!",content:"Illegal access!",showCloseButton:!0})}}})});